<div class="mt-4" [formGroup]="checkoutForm">
    <h4>Choose Your Delivery Method</h4>
    <div class="row mt-4 mb-4" formGroupName="deliveryForm">
        <div class="col-6" *ngFor="let method of deliveryMethods">
            <div 
                class="form-check"
                (click)="setShippingPrice(method); checkoutForm.get('deliveryForm.deliveryMethod')?.setValue(method.id)"
            >
                <label 
                    [class.bg-primary]="checkoutForm.get('deliveryForm.deliveryMethod')?.value === method.id"
                    [class.text-white]="checkoutForm.get('deliveryForm.deliveryMethod')?.value === method.id"
                    class="form-check-label d-block p-3 border rounded mb-3 cursor-pointer"
                    [style.color]="checkoutForm.get('deliveryForm.deliveryMethod')?.value === method.id ? 'white' : ''"
                >
                    <strong>{{ method.shortName }} - {{ method.price | currency }}</strong>
                    <br>
                    <span 
                        class="description-text"
                        [style.color]="checkoutForm.get('deliveryForm.deliveryMethod')?.value === method.id ? 'white' : ''"
                    >
                        {{ method.description }}
                    </span>
                </label>
            </div>
        </div>
    </div>
</div>

<div class="d-flex justify-content-between flex-row mb-5">
    <button class="btn btn-outline-primary" cdkStepperPrevious>
        <i class="fa fa-angle-left"></i> Back to Address
    </button>
    <button 
        [disabled]="checkoutForm.get('deliveryForm')?.invalid" 
        class="btn btn-primary" 
        cdkStepperNext
    >
        Go to Review <i class="fa fa-angle-right"></i> 
    </button>
</div>